<Nested bind:visibleThings="visibleThings" />

<script>
	import Nested from './Nested.html';

	export default {
		data() {
			return {
				visibleThings: []
			};
		},

		components: {
			Nested
		},

		onstate({ current, changed, previous }) {
			if (!this.snapshots) {
				// first run
				this.snapshots = [];
			}

			if (changed.visibleThings) {
				this.snapshots.push(current.visibleThings);
			}
		}
	};
</script>